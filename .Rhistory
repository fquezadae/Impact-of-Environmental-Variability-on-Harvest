theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
axis.text.y = element_text(angle = 0, hjust = 1),
legend.position = "bottom"
)
## ---- Figures ----
library(ggplot2)
library(tidyr)
library(scales)
biomass_long <- biomass %>%
pivot_longer(cols = c(sardine_biomass, anchoveta_biomass, jackmackerel_biomass),
names_to = "species",
values_to = "biomass") %>%
filter(!is.na(biomass)) %>%
arrange(species, year)
biomass_long$biomass <- as.numeric(biomass_long$biomass)
biomass_long$year <- as.numeric(biomass_long$year)
biomass_long$species <- recode(biomass_long$species,
anchoveta_biomass = "Anchoveta",
sardine_biomass = "Sardine",
jackmackerel_biomass = "Jack Mackerel")
# Plot
ggplot(biomass_long, aes(x = year, y = biomass, color = species, group = species)) +
geom_line(size = 1) +
geom_point(size = 1.5) +
# Optional: Add smoothing
# geom_smooth(se = FALSE, method = "loess", span = 0.4, linetype = "dashed") +
scale_y_continuous(labels = comma) +  # Or use scale_y_log10(labels = comma) to compress
labs(title = "Biomass Estimates Over Time",
x = "Year",
y = "Biomass (tons)",
color = "Species") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
axis.text.y = element_text(angle = 0, hjust = 1),
legend.position = "bottom"
)
ggplot(biomass_long, aes(x = year, y = biomass, color = species, group = species)) +
geom_line(size = 1) +
geom_point(size = 1.5) +
# Optional: Add smoothing
# geom_smooth(se = FALSE, method = "loess", span = 0.4, linetype = "dashed") +
labs(title = "Biomass Estimates Over Time",
x = "Year",
y = "Biomass (tons)",
color = "Species") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
axis.text.y = element_text(angle = 0, hjust = 1),
legend.position = "bottom"
)
ggplot(biomass_long, aes(x = year, y = biomass, color = species, group = species)) +
geom_line(size = 1) +
geom_point(size = 1.5) +
# Optional: Add smoothing
# geom_smooth(se = FALSE, method = "loess", span = 0.4, linetype = "dashed") +
scale_y_log10(labels = comma) +
labs(title = "Biomass Estimates Over Time",
x = "Year",
y = "Biomass (tons)",
color = "Species") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
axis.text.y = element_text(angle = 0, hjust = 1),
legend.position = "bottom"
)
ggplot(biomass_long, aes(x = year, y = biomass, color = species, group = species)) +
geom_line(size = 1) +
geom_point(size = 1.5) +
# Optional: Add smoothing
# geom_smooth(se = FALSE, method = "loess", span = 0.4, linetype = "dashed") +
scale_y_continuous(labels = comma) +  # Or use scale_y_log10(labels = comma) to compress
labs(title = "Biomass Estimates Over Time",
x = "Year",
y = "Biomass (tons)",
color = "Species") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
axis.text.y = element_text(angle = 0, hjust = 1),
legend.position = "bottom"
)
# Plot
ggplot(biomass_long, aes(x = year, y = biomass, color = species, group = species)) +
geom_line(size = 1) +
geom_point(size = 1.5) +
# Optional: Add smoothing
# geom_smooth(se = FALSE, method = "loess", span = 0.4, linetype = "dashed") +
labs(title = "Biomass Estimates Over Time",
x = "Year",
y = "Biomass (tons)",
color = "Species") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
axis.text.y = element_text(angle = 0, hjust = 1),
legend.position = "bottom"
)
ggplot(biomass_long, aes(x = year, y = biomass, color = species, group = species)) +
geom_line(size = 1) +
geom_point(size = 1.5) +
geom_smooth(se = FALSE, method = "loess", span = 0.4, linetype = "dashed") +
scale_y_continuous(labels = comma) +  # Or use scale_y_log10(labels = comma) to compress
labs(title = "Biomass Estimates Over Time",
x = "Year",
y = "Biomass (tons)",
color = "Species") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
axis.text.y = element_text(angle = 0, hjust = 1),
legend.position = "bottom"
)
ggplot(biomass_long, aes(x = year, y = biomass, color = species, group = species)) +
geom_point(size = 1.5) +
geom_smooth(se = FALSE, method = "loess", span = 0.4, linetype = "dashed") +
scale_y_continuous(labels = comma) +  # Or use scale_y_log10(labels = comma) to compress
labs(x = "Year",
y = "Biomass (tons)",
color = "Species") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
axis.text.y = element_text(angle = 0, hjust = 1),
legend.position = "bottom"
)
ggplot(biomass_long, aes(x = year, y = biomass, color = species, group = species)) +
geom_smooth(se = FALSE, method = "loess", span = 0.4, linetype = "line") +
scale_y_continuous(labels = comma) +  # Or use scale_y_log10(labels = comma) to compress
labs(x = "Year",
y = "Biomass (tons)",
color = "Species") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
axis.text.y = element_text(angle = 0, hjust = 1),
legend.position = "bottom"
)
ggplot(biomass_long, aes(x = year, y = biomass, color = species, group = species)) +
geom_smooth(se = TRUE, method = "loess", span = 0.4, linetype = "solid") +
scale_y_continuous(labels = comma) +  # Or use scale_y_log10(labels = comma) to compress
labs(x = "Year",
y = "Biomass (tons)",
color = "Species") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
axis.text.y = element_text(angle = 0, hjust = 1),
legend.position = "bottom"
)
ggplot(biomass_long, aes(x = year, y = biomass, color = species, group = species)) +
geom_smooth(se = TRUE, method = "loess", span = 0.4, linetype = "solid") +
scale_y_continuous(labels = comma) +  # Or use scale_y_log10(labels = comma) to compress
labs(x = "Year",
y = "Biomass (tons)",
color = "Species") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
axis.text.y = element_text(angle = 0, hjust = 1),
legend.position = "right"
) +
scale_color_viridis_d(option = "D")
ggplot(biomass_long, aes(x = year, y = biomass, color = species, group = species)) +
geom_smooth(se = TRUE, method = "loess", span = 0.4, linetype = "solid") +
scale_y_continuous(labels = comma) +  # Or use scale_y_log10(labels = comma) to compress
labs(x = "Year",
y = "Biomass (tons)",
color = "Species") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
axis.text.y = element_text(angle = 0, hjust = 1),
legend.position = "right"
) +
scale_color_viridis_d(option = "A")
ggplot(biomass_long, aes(x = year, y = biomass, color = species, group = species)) +
geom_smooth(se = TRUE, method = "loess", span = 0.4, linetype = "solid") +
scale_y_continuous(labels = comma) +  # Or use scale_y_log10(labels = comma) to compress
labs(x = "Year",
y = "Biomass (tons)",
color = "Species") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
axis.text.y = element_text(angle = 0, hjust = 1),
legend.position = "right"
) +
scale_color_viridis_d(option = "B")
library(ggplot2)
library(tidyr)
library(scales)
library(viridis)
biomass_long <- biomass %>%
pivot_longer(cols = c(sardine_biomass, anchoveta_biomass, jackmackerel_biomass),
names_to = "species",
values_to = "biomass") %>%
filter(!is.na(biomass)) %>%
arrange(species, year)
biomass_long$biomass <- as.numeric(biomass_long$biomass)
biomass_long$year <- as.numeric(biomass_long$year)
biomass_long$species <- recode(biomass_long$species,
anchoveta_biomass = "Anchoveta",
sardine_biomass = "Sardine",
jackmackerel_biomass = "Jack Mackerel")
# Plot
ggplot(biomass_long, aes(x = year, y = biomass, color = species, group = species)) +
geom_smooth(se = TRUE, method = "loess", span = 0.4, linetype = "solid") +
scale_y_continuous(labels = comma) +  # Or use scale_y_log10(labels = comma) to compress
labs(x = "Year",
y = "Biomass (tons)",
color = "Species") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
axis.text.y = element_text(angle = 0, hjust = 1),
legend.position = "right"
) +
scale_color_viridis_d(option = "B")
library(ggplot2)
library(tidyr)
library(scales)
library(viridis)
biomass_long <- biomass %>%
pivot_longer(cols = c(sardine_biomass, anchoveta_biomass, jackmackerel_biomass),
names_to = "species",
values_to = "biomass") %>%
filter(!is.na(biomass)) %>%
arrange(species, year)
biomass_long$biomass <- as.numeric(biomass_long$biomass)
biomass_long$year <- as.numeric(biomass_long$year)
biomass_long$species <- recode(biomass_long$species,
anchoveta_biomass = "Anchoveta",
sardine_biomass = "Sardine",
jackmackerel_biomass = "Jack Mackerel")
# Plot
ggplot(biomass_long, aes(x = year, y = biomass, color = species, group = species)) +
geom_smooth(se = TRUE, method = "loess", span = 0.4, linetype = "solid") +
scale_y_continuous(labels = comma) +  # Or use scale_y_log10(labels = comma) to compress
labs(x = "Year",
y = "Biomass (tons)",
color = "Species") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
axis.text.y = element_text(angle = 0, hjust = 1),
legend.position = "right"
) +
scale_color_viridis_d(option = "C")
library(ggplot2)
library(tidyr)
library(scales)
library(viridis)
biomass_long <- biomass %>%
pivot_longer(cols = c(sardine_biomass, anchoveta_biomass, jackmackerel_biomass),
names_to = "species",
values_to = "biomass") %>%
filter(!is.na(biomass)) %>%
arrange(species, year)
biomass_long$biomass <- as.numeric(biomass_long$biomass)
biomass_long$year <- as.numeric(biomass_long$year)
biomass_long$species <- recode(biomass_long$species,
anchoveta_biomass = "Anchoveta",
sardine_biomass = "Sardine",
jackmackerel_biomass = "Jack Mackerel")
# Plot
ggplot(biomass_long, aes(x = year, y = biomass, color = species, group = species)) +
geom_smooth(se = TRUE, method = "loess", span = 0.4, linetype = "solid") +
scale_y_continuous(labels = comma) +  # Or use scale_y_log10(labels = comma) to compress
labs(x = "Year",
y = "Biomass (tons)",
color = "Species") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
axis.text.y = element_text(angle = 0, hjust = 1),
legend.position = "right"
) +
scale_color_viridis_d(option = "E")
library(ggplot2)
library(tidyr)
library(scales)
library(viridis)
biomass_long <- biomass %>%
pivot_longer(cols = c(sardine_biomass, anchoveta_biomass, jackmackerel_biomass),
names_to = "species",
values_to = "biomass") %>%
filter(!is.na(biomass)) %>%
arrange(species, year)
biomass_long$biomass <- as.numeric(biomass_long$biomass)
biomass_long$year <- as.numeric(biomass_long$year)
biomass_long$species <- recode(biomass_long$species,
anchoveta_biomass = "Anchoveta",
sardine_biomass = "Sardine",
jackmackerel_biomass = "Jack Mackerel")
# Plot
ggplot(biomass_long, aes(x = year, y = biomass, color = species, group = species)) +
geom_smooth(se = TRUE, method = "loess", span = 0.4, linetype = "solid") +
scale_y_continuous(labels = comma) +  # Or use scale_y_log10(labels = comma) to compress
labs(x = "Year",
y = "Biomass (tons)",
color = "Species") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
axis.text.y = element_text(angle = 0, hjust = 1),
legend.position = "right"
) +
scale_color_viridis_d(option = "F")
library(ggplot2)
library(tidyr)
library(scales)
library(viridis)
biomass_long <- biomass %>%
pivot_longer(cols = c(sardine_biomass, anchoveta_biomass, jackmackerel_biomass),
names_to = "species",
values_to = "biomass") %>%
filter(!is.na(biomass)) %>%
arrange(species, year)
biomass_long$biomass <- as.numeric(biomass_long$biomass)
biomass_long$year <- as.numeric(biomass_long$year)
biomass_long$species <- recode(biomass_long$species,
anchoveta_biomass = "Anchoveta",
sardine_biomass = "Sardine",
jackmackerel_biomass = "Jack Mackerel")
# Plot
ggplot(biomass_long, aes(x = year, y = biomass, color = species, group = species)) +
geom_smooth(se = TRUE, method = "loess", span = 0.4, linetype = "solid") +
scale_y_continuous(labels = comma) +  # Or use scale_y_log10(labels = comma) to compress
labs(x = "Year",
y = "Biomass (tons)",
color = "Species") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
axis.text.y = element_text(angle = 0, hjust = 1),
legend.position = "right"
) +
scale_color_viridis_d(option = "D")
library(ggplot2)
library(tidyr)
library(scales)
library(viridis)
biomass_long <- biomass %>%
pivot_longer(cols = c(sardine_biomass, anchoveta_biomass, jackmackerel_biomass),
names_to = "species",
values_to = "biomass") %>%
filter(!is.na(biomass)) %>%
arrange(species, year)
biomass_long$biomass <- as.numeric(biomass_long$biomass)
biomass_long$year <- as.numeric(biomass_long$year)
biomass_long$species <- recode(biomass_long$species,
anchoveta_biomass = "Anchoveta",
sardine_biomass = "Sardine",
jackmackerel_biomass = "Jack Mackerel")
# Plot
ggplot(biomass_long, aes(x = year, y = biomass, color = species, group = species)) +
geom_smooth(se = TRUE, method = "loess", span = 0.4, linetype = "solid") +
scale_y_continuous(labels = comma) +  # Or use scale_y_log10(labels = comma) to compress
labs(x = "Year",
y = "Biomass (tons)",
color = "Species") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
axis.text.y = element_text(angle = 0, hjust = 1),
legend.position = "right"
) +
scale_color_viridis_d(option = "D")
library(readxl)
library(dplyr)
anch_sard_biomass <- read_excel("Data/3. ESTIMACIONES CRUCERO ACUSTICO.xlsx", sheet = "SARDINA-ANCHOVETA")
anch_sard_biomass <- anch_sard_biomass[, c(1, 3, 4)]
anch_sard_biomass <- anch_sard_biomass[-1, ]
colnames(anch_sard_biomass) <- c("year", "sardine_biomass", "anchoveta_biomass")
jackmackerel_biomass <- read_excel("Data/3. ESTIMACIONES CRUCERO ACUSTICO.xlsx", sheet = "JUREL")
jackmackerel_biomass  <- jackmackerel_biomass[, c(1, 3)]
jackmackerel_biomass  <- jackmackerel_biomass[-1, ]
colnames(jackmackerel_biomass) <- c("year", "jackmackerel_biomass")
anch_sard_biomass$year <- as.numeric(anch_sard_biomass$year)
jackmackerel_biomass$year <- as.numeric(jackmackerel_biomass$year)
biomass <- left_join(anch_sard_biomass, jackmackerel_biomass, by = "year")
rm(list = c("anch_sard_biomass", "jackmackerel_biomass"))
library(ggplot2)
library(tidyr)
library(scales)
library(viridis)
biomass_long <- biomass %>%
pivot_longer(cols = c(sardine_biomass, anchoveta_biomass, jackmackerel_biomass),
names_to = "species",
values_to = "biomass") %>%
filter(!is.na(biomass)) %>%
arrange(species, year)
biomass_long$biomass <- as.numeric(biomass_long$biomass)
biomass_long$year <- as.numeric(biomass_long$year)
biomass_long$species <- recode(biomass_long$species,
anchoveta_biomass = "Anchoveta",
sardine_biomass = "Sardine",
jackmackerel_biomass = "Jack Mackerel")
# Plot
ggplot(biomass_long, aes(x = year, y = biomass, color = species, group = species)) +
geom_smooth(se = TRUE, method = "loess", span = 0.4, linetype = "solid") +
scale_y_continuous(labels = comma) +  # Or use scale_y_log10(labels = comma) to compress
labs(x = "Year",
y = "Biomass (tons)",
color = "Species") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
axis.text.y = element_text(angle = 0, hjust = 1),
legend.position = "right"
) +
scale_color_viridis_d(option = "D")
rm(list = c("biomass_long"))
library(ggplot2)
library(tidyr)
library(scales)
library(viridis)
biomass_long <- biomass %>%
pivot_longer(cols = c(sardine_biomass, anchoveta_biomass, jackmackerel_biomass),
names_to = "species",
values_to = "biomass") %>%
filter(!is.na(biomass)) %>%
arrange(species, year)
biomass_long$biomass <- as.numeric(biomass_long$biomass)
biomass_long$year <- as.numeric(biomass_long$year)
biomass_long$species <- recode(biomass_long$species,
anchoveta_biomass = "Anchoveta",
sardine_biomass = "Sardine",
jackmackerel_biomass = "Jack Mackerel")
# Plot
ggplot(biomass_long, aes(x = year, y = biomass, color = species, group = species)) +
geom_smooth(se = TRUE, method = "loess", span = 0.4, linetype = "solid") +
scale_y_continuous(labels = comma) +  # Or use scale_y_log10(labels = comma) to compress
labs(x = "Year",
y = "Biomass (tons)",
color = "Species") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
axis.text.y = element_text(angle = 0, hjust = 1),
legend.position = "right"
) +
scale_color_viridis_d(option = "D")
rm(list = c("biomass_long"))
library(ggplot2)
library(tidyr)
library(scales)
library(viridis)
biomass_long <- biomass %>%
pivot_longer(cols = c(sardine_biomass, anchoveta_biomass, jackmackerel_biomass),
names_to = "species",
values_to = "biomass") %>%
filter(!is.na(biomass)) %>%
arrange(species, year)
biomass_long$biomass <- as.numeric(biomass_long$biomass)
biomass_long$year <- as.numeric(biomass_long$year)
biomass_long$species <- recode(biomass_long$species,
anchoveta_biomass = "Anchoveta",
sardine_biomass = "Sardine",
jackmackerel_biomass = "Jack Mackerel")
# Plot
ggplot(biomass_long, aes(x = year, y = biomass, color = species, group = species)) +
geom_smooth(se = TRUE, method = "loess", span = 0.4, linetype = "solid") +
scale_y_continuous(labels = comma) +  # Or use scale_y_log10(labels = comma) to compress
labs(x = "Year",
y = "Biomass (tons)",
color = "Species") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
axis.text.y = element_text(angle = 0, hjust = 1),
legend.position = "right"
) +
scale_color_viridis_d(option = "D")
rm(list = c("biomass_long"))
install.packages("bookdown")
library(ggplot2)
library(tidyr)
library(scales)
library(viridis)
biomass_long <- biomass %>%
pivot_longer(cols = c(sardine_biomass, anchoveta_biomass, jackmackerel_biomass),
names_to = "species",
values_to = "biomass") %>%
filter(!is.na(biomass)) %>%
arrange(species, year)
biomass_long$biomass <- as.numeric(biomass_long$biomass)
biomass_long$year <- as.numeric(biomass_long$year)
biomass_long$species <- recode(biomass_long$species,
anchoveta_biomass = "Anchoveta",
sardine_biomass = "Sardine",
jackmackerel_biomass = "Jack Mackerel")
# Plot
ggplot(biomass_long, aes(x = year, y = biomass, color = species, group = species)) +
geom_smooth(se = TRUE, method = "loess", span = 0.4, linetype = "solid") +
scale_y_continuous(labels = comma) +  # Or use scale_y_log10(labels = comma) to compress
labs(x = "Year",
y = "Biomass (tons)",
color = "Species") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
axis.text.y = element_text(angle = 0, hjust = 1),
legend.position = "right"
) +
scale_color_viridis_d(option = "D")
rm(list = c("biomass_long"))
