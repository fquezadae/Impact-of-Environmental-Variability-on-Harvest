panel.grid = element_blank()
)
# Get label positions from the stratum data
stratum_data <- ggplot_build(p)$data[[2]]
# Separate left (axis1) and right (axis2) sides
left_labels <- stratum_data %>%
filter(x == 1) %>%
mutate(hjust = 1, x = x - 0.05)  # shift left
right_labels <- stratum_data %>%
filter(x == 2) %>%
mutate(hjust = 0, x = x + 0.05)  # shift right
# Add to the plot
p +
geom_text(data = left_labels, aes(x = x, y = y, label = stratum, hjust = hjust),
size = 2.5, inherit.aes = FALSE) +
geom_text(data = right_labels, aes(x = x, y = y, label = stratum, hjust = hjust),
size = 2.5, inherit.aes = FALSE)
strategy_transitions <- full_join(strategy_before, strategy_after, by = "COD_BARCO") %>%
mutate(
strategy_Before = ifelse(is.na(strategy_Before), "No fishing", strategy_Before),
strategy_After  = ifelse(is.na(strategy_After),  "No fishing", strategy_After)
)
transition_counts <- strategy_transitions %>%
count(strategy_Before, strategy_After)
simplify_focus_strategy <- function(strategy) {
if (strategy == "Only Sardine") return("Sardine")
if (strategy == "Only Anchoveta") return("Anchoveta")
if (grepl("Sardine", strategy) & grepl("Anchoveta", strategy)) return("Sardine & Anchoveta")
if (strategy == "No fishing") return("No fishing")
return("Other")
}
strategy_transitions_focus <- strategy_transitions %>%
mutate(
strategy_Before_simple = simplify_focus_strategy(strategy_Before),
strategy_After_simple = simplify_focus_strategy(strategy_After)
) %>%
filter(strategy_Before_simple %in% c("Sardine", "Anchoveta", "Sardine & Anchoveta", "No fishing") |
strategy_After_simple %in% c("Sardine", "Anchoveta", "Sardine & Anchoveta", "No fishing"))
transition_counts_focus <- strategy_transitions_focus %>%
count(strategy_Before_simple, strategy_After_simple)
# Create the base plot object
p <- ggplot(transition_counts_focus,
aes(axis1 = strategy_Before_simple, axis2 = strategy_After_simple, y = n)) +
geom_flow(aes(fill = strategy_Before_simple), width = 1/12, knot.pos = 0.4, alpha = 0.8) +
geom_stratum(width = 1/12, fill = "gray95", color = "black") +
scale_x_discrete(limits = c("2012–2018", "2019–2024"), expand = c(.15, .15)) +
scale_fill_brewer(type = "qual", palette = "Set2") +
labs(
x = "", y = "Number of Vessels"
) +
theme_minimal(base_size = 10) +
theme(
legend.position = "none",
panel.grid = element_blank()
)
# Get label positions from the stratum data
stratum_data <- ggplot_build(p)$data[[2]]
# Separate left (axis1) and right (axis2) sides
left_labels <- stratum_data %>%
filter(x == 1) %>%
mutate(hjust = 1, x = x - 0.05)  # shift left
right_labels <- stratum_data %>%
filter(x == 2) %>%
mutate(hjust = 0, x = x + 0.05)  # shift right
# Add to the plot
p +
geom_text(data = left_labels, aes(x = x, y = y, label = stratum, hjust = hjust),
size = 2.5, inherit.aes = FALSE) +
geom_text(data = right_labels, aes(x = x, y = y, label = stratum, hjust = hjust),
size = 2.5, inherit.aes = FALSE)
#Anchovy and sardine biomass
anch_sard_biomass <- read_excel(paste0(dirdata, "IFOP/3. ESTIMACIONES CRUCERO ACUSTICO.xlsx"), sheet = "SARDINA-ANCHOVETA")
anch_sard_biomass <- anch_sard_biomass[, c(1, 2, 3, 4)]
anch_sard_biomass <- anch_sard_biomass[-1, ]
colnames(anch_sard_biomass) <- c("year", "cruise", "sardine_biomass", "anchoveta_biomass")
anch_sard_biomass <- anch_sard_biomass %>%
filter(str_detect(cruise, "Reclas")) %>%  ## Summer survey!
dplyr::select(-c(cruise)) %>%
mutate(across(ends_with("biomass"), ~as.numeric(.)))
anch_sard_biomass$year <- as.numeric(anch_sard_biomass$year)
#Jurel biomass
jurel_biomass <- read_excel(paste0(dirdata, "IFOP/3. ESTIMACIONES CRUCERO ACUSTICO.xlsx"), sheet = "JUREL")
jurel_biomass <- jurel_biomass[, c(1, 3)]
jurel_biomass <- jurel_biomass[-1, ]
colnames(jurel_biomass) <- c("year", "jurel_biomass")
jurel_biomass <- jurel_biomass %>%
mutate(across(ends_with("biomass"), ~as.numeric(.))) %>%
mutate(jurel_biomass = ifelse(jurel_biomass == 0, NA, jurel_biomass))
jurel_biomass$year <- as.numeric(jurel_biomass$year)
# Merge databse
biomass <- full_join(anch_sard_biomass, jurel_biomass, by = c("year")) %>% arrange(year)
rm(list = c("anch_sard_biomass", "jurel_biomass"))
rm(list = ls())
gc()
library(readxl)
library(dplyr)
library(tidyr)
library(knitr)
library(kableExtra)
library(ggplot2)
library(ggalluvial)
library(purrr)
library(lubridate)
library(stringr)
library(readxl)
# Definir directorios según usuario
usuario <- Sys.info()[["user"]]
# computador <- Sys.info()[["nodename"]]  # Alternativamente puedes usar esto
if (usuario == "felip") {
dirdata <- "C:/Users/felip/OneDrive - Universidad de Concepción/FONDECYT Iniciacion/Data/"
} else if (usuario == "FACEA") {
dirdata <- "C:/Users/FACEA/OneDrive - Universidad de Concepción/FONDECYT Iniciacion/Data/"
} else {
stop("Usuario no reconocido. Defina el directorio correspondiente.")
}
rm(usuario)
rm(list = ls())
gc()
library(readxl)
library(dplyr)
library(tidyr)
library(knitr)
library(kableExtra)
library(ggplot2)
library(ggalluvial)
library(purrr)
library(lubridate)
library(stringr)
library(readxl)
# Definir directorios según usuario
usuario <- Sys.info()[["user"]]
# computador <- Sys.info()[["nodename"]]  # Alternativamente puedes usar esto
if (usuario == "felip") {
dirdata <- "C:/Users/felip/OneDrive - Universidad de Concepción/FONDECYT Iniciacion/Data/"
} else if (usuario == "FACEA") {
dirdata <- "C:/Users/FACEA/OneDrive - Universidad de Concepción/FONDECYT Iniciacion/Data/"
} else {
stop("Usuario no reconocido. Defina el directorio correspondiente.")
}
rm(usuario)
#Anchovy and sardine biomass
anch_sard_biomass <- read_excel(paste0(dirdata, "IFOP/3. ESTIMACIONES CRUCERO ACUSTICO.xlsx"), sheet = "SARDINA-ANCHOVETA")
anch_sard_biomass <- anch_sard_biomass[, c(1, 2, 3, 4)]
anch_sard_biomass <- anch_sard_biomass[-1, ]
colnames(anch_sard_biomass) <- c("year", "cruise", "sardine_biomass", "anchoveta_biomass")
anch_sard_biomass <- anch_sard_biomass %>%
filter(str_detect(cruise, "Reclas")) %>%  ## Summer survey!
dplyr::select(-c(cruise)) %>%
mutate(across(ends_with("biomass"), ~as.numeric(.)))
anch_sard_biomass$year <- as.numeric(anch_sard_biomass$year)
#Jurel biomass
jurel_biomass <- read_excel(paste0(dirdata, "IFOP/3. ESTIMACIONES CRUCERO ACUSTICO.xlsx"), sheet = "JUREL")
jurel_biomass <- jurel_biomass[, c(1, 3)]
jurel_biomass <- jurel_biomass[-1, ]
colnames(jurel_biomass) <- c("year", "jurel_biomass")
jurel_biomass <- jurel_biomass %>%
mutate(across(ends_with("biomass"), ~as.numeric(.))) %>%
mutate(jurel_biomass = ifelse(jurel_biomass == 0, NA, jurel_biomass))
jurel_biomass$year <- as.numeric(jurel_biomass$year)
# Merge databse
biomass <- full_join(anch_sard_biomass, jurel_biomass, by = c("year")) %>% arrange(year)
rm(list = c("anch_sard_biomass", "jurel_biomass"))
### Introduccion a R ###
##### Econometria II ####
# Leer base de datos (ojo con la direccion donde guardaron la base de datos)
library(readxl)
databse <- read_excel("C:/Users/felip/ceosal1_2.xlsx")
install.packages("here")
database <- read_excel(here("ceosal1_2.xlsx"))
library(here)
# This will look in the folder where the R project (or script) is
database <- read_excel(here("ceosal1_2.xlsx"))
script_dir <- dirname(rstudioapi::getActiveDocumentContext()$path)
database <- read_excel(file.path(script_dir, "ceosal1_2.xlsx"))
View(database)
install.packages("summarytools")
library(summarytools)
descr(ceosal1_2$sales, stats = "common")
ceosal1_2 <- read_excel(file.path(script_dir, "ceosal1_2.xlsx"))
descr(ceosal1_2$sales, stats = "common")
View(ceosal1_2)
#instal.packages("ggplot2")
library(ggplot2)
ggplot(ceosal1_2,
aes(x=sales, y = salary)) +
geom_point() +
geom_smooth(method="lm", se=FALSE)
################
### IV: 2SLS ###
################
script_dir <- dirname(rstudioapi::getActiveDocumentContext()$path)
#Anchovy and sardine biomass
anch_sard_biomass <- read_excel(paste0(dirdata, "IFOP/3. ESTIMACIONES CRUCERO ACUSTICO.xlsx"), sheet = "SARDINA-ANCHOVETA")
anch_sard_biomass <- anch_sard_biomass[, c(1, 2, 3, 4)]
anch_sard_biomass <- anch_sard_biomass[-1, ]
colnames(anch_sard_biomass) <- c("year", "cruise", "sardine_biomass", "anchoveta_biomass")
anch_sard_biomass <- anch_sard_biomass %>%
filter(str_detect(cruise, "Reclas")) %>%  ## Summer survey!
dplyr::select(-c(cruise)) %>%
mutate(across(ends_with("biomass"), ~as.numeric(.)))
anch_sard_biomass$year <- as.numeric(anch_sard_biomass$year)
#Jurel biomass
jurel_biomass <- read_excel(paste0(dirdata, "IFOP/3. ESTIMACIONES CRUCERO ACUSTICO.xlsx"), sheet = "JUREL")
jurel_biomass <- jurel_biomass[, c(1, 3)]
jurel_biomass <- jurel_biomass[-1, ]
colnames(jurel_biomass) <- c("year", "jurel_biomass")
jurel_biomass <- jurel_biomass %>%
mutate(across(ends_with("biomass"), ~as.numeric(.))) %>%
mutate(jurel_biomass = ifelse(jurel_biomass == 0, NA, jurel_biomass))
jurel_biomass$year <- as.numeric(jurel_biomass$year)
# Merge databse
biomass <- full_join(anch_sard_biomass, jurel_biomass, by = c("year")) %>% arrange(year)
rm(list = c("anch_sard_biomass", "jurel_biomass"))
rm(list = ls())
gc()
library(readxl)
library(dplyr)
library(tidyr)
library(knitr)
library(kableExtra)
library(ggplot2)
library(ggalluvial)
library(purrr)
library(lubridate)
library(stringr)
library(readxl)
# Definir directorios según usuario
usuario <- Sys.info()[["user"]]
# computador <- Sys.info()[["nodename"]]  # Alternativamente puedes usar esto
if (usuario == "felip") {
dirdata <- "C:/Users/felip/OneDrive - Universidad de Concepción/FONDECYT Iniciacion/Data/"
} else if (usuario == "FACEA") {
dirdata <- "C:/Users/FACEA/OneDrive - Universidad de Concepción/FONDECYT Iniciacion/Data/"
} else {
stop("Usuario no reconocido. Defina el directorio correspondiente.")
}
rm(usuario)
#Anchovy and sardine biomass
anch_sard_biomass <- read_excel(paste0(dirdata, "IFOP/3. ESTIMACIONES CRUCERO ACUSTICO.xlsx"), sheet = "SARDINA-ANCHOVETA")
anch_sard_biomass <- anch_sard_biomass[, c(1, 2, 3, 4)]
anch_sard_biomass <- anch_sard_biomass[-1, ]
colnames(anch_sard_biomass) <- c("year", "cruise", "sardine_biomass", "anchoveta_biomass")
anch_sard_biomass <- anch_sard_biomass %>%
filter(str_detect(cruise, "Reclas")) %>%  ## Summer survey!
dplyr::select(-c(cruise)) %>%
mutate(across(ends_with("biomass"), ~as.numeric(.)))
anch_sard_biomass$year <- as.numeric(anch_sard_biomass$year)
#Jurel biomass
jurel_biomass <- read_excel(paste0(dirdata, "IFOP/3. ESTIMACIONES CRUCERO ACUSTICO.xlsx"), sheet = "JUREL")
jurel_biomass <- jurel_biomass[, c(1, 3)]
jurel_biomass <- jurel_biomass[-1, ]
colnames(jurel_biomass) <- c("year", "jurel_biomass")
jurel_biomass <- jurel_biomass %>%
mutate(across(ends_with("biomass"), ~as.numeric(.))) %>%
mutate(jurel_biomass = ifelse(jurel_biomass == 0, NA, jurel_biomass))
jurel_biomass$year <- as.numeric(jurel_biomass$year)
# Merge databse
biomass <- full_join(anch_sard_biomass, jurel_biomass, by = c("year")) %>% arrange(year)
rm(list = c("anch_sard_biomass", "jurel_biomass"))
View(biomass)
anch_sard_biomass <- read_excel(paste0(dirdata, "IFOP/3. ESTIMACIONES CRUCERO ACUSTICO.xlsx"), sheet = "SARDINA-ANCHOVETA")
View(anch_sard_biomass)
script_dir <- dirname(rstudioapi::getActiveDocumentContext()$path)
library(wooldridge)   # Para cargar el conjunto de datos Card
library(AER)          # Para la función ivreg (regresión IV)
data("card", package = "wooldridge")
force(card)
View(card)
modelo_causal <- lm(wage ~ educ + exper + black + south + married + smsa, data = card)
summary(modelo_causal)
modelo_primera_etapa <- lm(educ ~ nearc4 + exper + black + south + married + smsa, data = card)
summary(modelo_primera_etapa)
mean_educ_0 <- mean(modelo_primera_etapa$model$educ[modelo_primera_etapa$model$nearc4 == 0], na.rm = TRUE)
mean_educ_1 <- mean(modelo_primera_etapa$model$educ[modelo_primera_etapa$model$nearc4 == 1], na.rm = TRUE)
mean_values <- data.frame(
nearc4 = c(0, 1),
mean_educ = c(mean_educ_0, mean_educ_1)
)
library(ggplot2)
ggplot(mean_values, aes(x = factor(nearc4), y = mean_educ)) +
geom_bar(stat = "identity", fill = "lightblue", color = "blue", width = 0.5) +
labs(title = "Promedio de Educación por Universidad Cercana",
x = "Universidad Cercana (nearc4)",
y = "Promedio de Educación") +
theme_minimal()
library(ggplot2)
ggplot(mean_values, aes(x = factor(nearc4), y = mean_educ)) +
geom_bar(stat = "identity", fill = "lightblue", color = "blue", width = 0.5) +
mean_values <- data.frame(
nearc4 = c(0, 1),
mean_educ = c(mean_educ_0, mean_educ_1)
)
library(ggplot2)
ggplot(mean_values, aes(x = factor(nearc4), y = mean_educ)) +
geom_bar(stat = "identity", fill = "lightblue", color = "blue", width = 0.5) +
labs(title = "Promedio de Educación por Universidad Cercana",
x = "Universidad Cercana (nearc4)",
y = "Promedio de Educación") +
theme_minimal()
mean_values <- data.frame(
nearc4 = c(0, 1),
mean_educ = c(mean_educ_0, mean_educ_1)
)
library(ggplot2)
ggplot(mean_values, aes(x = factor(nearc4), y = mean_educ)) +
geom_bar(stat = "identity", fill = "lightblue", color = "blue", width = 0.5) +
labs(title = "Promedio de Educación por Universidad Cercana",
x = "Universidad Cercana (nearc4)",
y = "Promedio de Educación") +
theme_minimal()
library(ggplot2)
################
### IV: 2SLS ###
################
script_dir <- dirname(rstudioapi::getActiveDocumentContext()$path)
####
# Minimos cuadrados de dos etapas
####
# Cargar librerías necesarias
library(wooldridge)   # Para cargar el conjunto de datos Card
library(AER)          # Para la función ivreg (regresión IV)
library(modelsummary)  # Para crear tablas de modelos
library(flextable)     # Para exportar la tabla a Word
library(officer)       # Para trabajar con documentos Word
# Cargar el conjunto de datos Card del paquete wooldridge
data("card", package = "wooldridge")
# Ajuste de la primera etapa: efecto de 'nearc2' sobre 'educ'
modelo_causal <- lm(wage ~ educ + exper + black + south + married + smsa, data = card)
summary(modelo_causal)
modelo_primera_etapa <- lm(educ ~ nearc4 + exper + black + south + married + smsa, data = card)
summary(modelo_primera_etapa)
# Grafico
mean_educ_0 <- mean(modelo_primera_etapa$model$educ[modelo_primera_etapa$model$nearc4 == 0], na.rm = TRUE)
mean_educ_1 <- mean(modelo_primera_etapa$model$educ[modelo_primera_etapa$model$nearc4 == 1], na.rm = TRUE)
mean_values <- data.frame(
nearc4 = c(0, 1),
mean_educ = c(mean_educ_0, mean_educ_1)
)
library(ggplot2)
ggplot(mean_values, aes(x = factor(nearc4), y = mean_educ)) +
geom_bar(stat = "identity", fill = "lightblue", color = "blue", width = 0.5) +
labs(title = "Promedio de Educación por Universidad Cercana",
x = "Universidad Cercana (nearc4)",
y = "Promedio de Educación") +
theme_minimal()
rm(list = ls())
gc()
# Definir directorios según usuario
usuario <- Sys.info()[["user"]]
# computador <- Sys.info()[["nodename"]]  # Alternativamente puedes usar esto
if (usuario == "felip") {
dirdata <- "C:/Users/felip/OneDrive - Universidad de Concepción/FONDECYT Iniciacion/Data/"
} else if (usuario == "FACEA") {
dirdata <- "C:/Users/FACEA/OneDrive - Universidad de Concepción/FONDECYT Iniciacion/Data/"
} else {
stop("Usuario no reconocido. Defina el directorio correspondiente.")
}
rm(usuario)
anch_sard_biomass <- read_excel(paste0(dirdata, "IFOP/3. ESTIMACIONES CRUCERO ACUSTICO.xlsx"), sheet = "SARDINA-ANCHOVETA")
library(readxl)
anch_sard_biomass <- read_excel(paste0(dirdata, "IFOP/3. ESTIMACIONES CRUCERO ACUSTICO.xlsx"), sheet = "SARDINA-ANCHOVETA")
anch_sard_biomass <- anch_sard_biomass[, c(1, 2, 3, 4)]
anch_sard_biomass <- anch_sard_biomass[-1, ]
colnames(anch_sard_biomass) <- c("year", "cruise", "sardine_biomass", "anchoveta_biomass")
anch_sard_biomass <- anch_sard_biomass %>%
filter(str_detect(cruise, "Reclas")) %>%  ## Summer survey!
dplyr::select(-c(cruise)) %>%
mutate(across(ends_with("biomass"), ~as.numeric(.)))
library(tidyverse)
###----------------------------------------------###
###               Biomass data                   ###
### and interpolation of mackerel missing values ###
###----------------------------------------------###
rm(list = ls())
gc()
# Define directory
usuario <- Sys.info()[["user"]]
# computador <- Sys.info()[["nodename"]]  # Alternativamente puedes usar esto
if (usuario == "felip") {
dirdata <- "C:/Users/felip/OneDrive - Universidad de Concepción/FONDECYT Iniciacion/Data/"
} else if (usuario == "FACEA") {
dirdata <- "C:/Users/FACEA/OneDrive - Universidad de Concepción/FONDECYT Iniciacion/Data/"
} else {
stop("Usuario no reconocido. Defina el directorio correspondiente.")
}
rm(usuario)
# Load packages
library(readxl)
library(tidyverse)
# library(knitr)
# library(kableExtra)
# library(ggalluvial)
# library(purrr)
# library(stringr)
# library(readxl)
#Anchovy and sardine biomass
anch_sard_biomass <- read_excel(paste0(dirdata, "IFOP/3. ESTIMACIONES CRUCERO ACUSTICO.xlsx"), sheet = "SARDINA-ANCHOVETA")
anch_sard_biomass <- anch_sard_biomass[, c(1, 2, 3, 4)]
anch_sard_biomass <- anch_sard_biomass[-1, ]
colnames(anch_sard_biomass) <- c("year", "cruise", "sardine_biomass", "anchoveta_biomass")
anch_sard_biomass <- anch_sard_biomass %>%
filter(str_detect(cruise, "Reclas")) %>%  ## Summer survey!
dplyr::select(-c(cruise)) %>%
mutate(across(ends_with("biomass"), ~as.numeric(.)))
anch_sard_biomass$year <- as.numeric(anch_sard_biomass$year)
View(anch_sard_biomass)
#Jurel biomass
jurel_biomass <- read_excel(paste0(dirdata, "IFOP/3. ESTIMACIONES CRUCERO ACUSTICO.xlsx"), sheet = "JUREL")
jurel_biomass <- jurel_biomass[, c(1, 3)]
jurel_biomass <- jurel_biomass[-1, ]
colnames(jurel_biomass) <- c("year", "jurel_biomass")
jurel_biomass <- jurel_biomass %>%
mutate(across(ends_with("biomass"), ~as.numeric(.))) %>%
mutate(jurel_biomass = ifelse(jurel_biomass == 0, NA, jurel_biomass))
jurel_biomass$year <- as.numeric(jurel_biomass$year)
jurel_biomass <- read_excel(paste0(dirdata, "IFOP/3. ESTIMACIONES CRUCERO ACUSTICO.xlsx"), sheet = "JUREL")
View(jurel_biomass)
jurel_biomass <- read_excel(paste0(dirdata, "IFOP/3. ESTIMACIONES CRUCERO ACUSTICO.xlsx"), sheet = "JUREL")
jurel_biomass <- jurel_biomass[, c(1, 3,8)]
jurel_biomass <- jurel_biomass[-1, ]
colnames(jurel_biomass) <- c("year", "jurel_biomass_cs", "jurel_biomass_no")
View(jurel_biomass)
jurel_biomass <- jurel_biomass %>%
mutate(across(ends_with("biomass"), ~as.numeric(.))) %>%
mutate(jurel_biomass = ifelse(jurel_biomass == 0, NA, jurel_biomass))
jurel_biomass <- jurel_biomass %>%
mutate(across(ends_with("biomass_cs"), ~as.numeric(.))) %>%
mutate(across(ends_with("biomass_no"), ~as.numeric(.))) %>%
mutate(jurel_biomass_cs = ifelse(jurel_biomass_cs == 0, NA, jurel_biomass_cs)) %>%
mutate(jurel_biomass_no = ifelse(jurel_biomass_no == 0, NA, jurel_biomass_no))
jurel_biomass$year <- as.numeric(jurel_biomass$year)
View(jurel_biomass)
biomass <- full_join(anch_sard_biomass, jurel_biomass, by = c("year")) %>% arrange(year)
rm(list = c("anch_sard_biomass", "jurel_biomass"))
View(biomass)
###----------------------------------------------###
###           Environmental covariates           ###
###----------------------------------------------###
# Install package to download from Copernicus Marine Service
install.packages("copernicusmarine")
# Loack packages
library(copernicusmarine)
install.packages("CopernicusMarine")
copernicusmarine::copernicusmarine_login(username = "fquezadaescalon",
password = "Pgpd5858!")
library(copernicusmarine)
library(CopernicusMarine)
# Sign in to Copernicus Marine Service:
CopernicusMarine::copernicusmarine_login(username = "fquezadaescalon",
password = "Pgpd5858!")
output_dir <- "data/env/"
dir.create(output_dir, showWarnings = FALSE)
# Region: Valparaíso to Los Lagos
lon_min <- -75
lon_max <- -71
lat_min <- -42
lat_max <- -32
copernicusmarine_get(
dataset_id = "GLOBAL_MULTIYEAR_PHY_001_030",
variables = c("thetao", "so", "uo", "vo"),
minimum_longitude = lon_min,
maximum_longitude = lon_max,
minimum_latitude = lat_min,
maximum_latitude = lat_max,
start_datetime = start_date,
end_datetime = end_date,
output_directory = output_dir
)
install.packages("reticulate")
system("copernicusmarine get --dataset-id GLOBAL_MULTIYEAR_PHY_001_030 ...")
system("copernicusmarine get --dataset-id GLOBAL_MULTIYEAR_PHY_001_030 \
--variables thetao so uo vo \
--start-datetime 2012-01-01T00:00:00 \
--end-datetime 2024-12-31T23:59:59 \
--minimum-longitude -75 --maximum-longitude -71 \
--minimum-latitude -42 --maximum-latitude -32 \
--output-directory data/")
system('copernicusmarine get --dataset-id GLOBAL_MULTIYEAR_PHY_001_030 --variables thetao so uo vo --start-datetime 2012-01-01T00:00:00 --end-datetime 2024-12-31T23:59:59 --minimum-longitude -75 --maximum-longitude -71 --minimum-latitude -42 --maximum-latitude -32 --output-directory data/')
###----------------------------------------------###
###           Environmental covariates           ###
###----------------------------------------------###
# Install package to download from Copernicus Marine Service
install.packages("CopernicusMarine")
# Loack packages
library(CopernicusMarine)
CopernicusMarine::copernicus_configure(
username = "fquezadaescalon",
password = "Pgpd5858!"
)
###----------------------------------------------###
###           Environmental covariates           ###
###----------------------------------------------###
# Loack packages
library(CopernicusMarine)
CopernicusMarine::copernicus_configure(
username = "fquezadaescalon",
password = "Pgpd5858!"
)
CopernicusMarine::copernicus_configure_environment(
username = "fquezadaescalon",
password = "Pgpd5858!"
)
cms_set_username("fquezadaescalon")
cms_set_password()
cms_set_username("fquezadaescalon")
cms_set_password("Pgpd5858!")
glorys_info <- copernicus_product_details(product_id = "GLOBAL_MULTIYEAR_PHY_001_030")
glorys_info <- cms_product_details(product_id = "GLOBAL_MULTIYEAR_PHY_001_030")
glorys_info <- cms_product_details(product = "GLOBAL_MULTIYEAR_PHY_001_030")
View(glorys_info)
print(glorys_info$properties$allVariables
print(glorys_info$properties$allVariables)
